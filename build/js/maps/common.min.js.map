{"version":3,"sources":["common.js"],"names":["lazySizes","cfg","init","customScroll","ready","document","select","hoverTouchEvents","inputs","search","nav","toggle","scrollTo","popup","slider","fixedBlocks","tabs","scrollToReviews","setTimeout","lazy","xs","brakepoints","sm","md","lg","$target","$","on","touchTimer","event","desktop","type","removeClass","addClass","addEventListener","e","bg","el","target","tagName","getAttribute","parentNode","$trigger","backgroundImage","concat","preventDefault","check","$form","$input","each","this","val","namspaces","phone","parent","message","value","format","presence","allowEmpty","conditions","email","name","length","minimum","tooShort","tooLong","maximum","mask","Inputmask","clearIncomplete","validateForm","$inputs","constraints","find","values","resault","undefined","is","key","hasClass","validate","remove","flag","append","_loop","_this3","console","open","trigger","$parent","$content","focus","mouseenter","$this","log","closest","$containers","$element","querySelectorAll","$container","gradientCheck","scrollHeight","outerHeight","scroll","offset","top","device","simpleBar","SimpleBar","add","attr","window","$popup","$close","close","_this","active","scrollLock","disablePageScroll","callback","_this2","enablePageScroll","slideCountLg","_this4","slideCountMd","slideCountSm","slideCountXs","arrows","dots","centerMode","autoplay","nextArrow","prevArrow","speed","initSlider","slidesToShow","slidesToScroll","autoplaySpeed","responsive","breakpoint","settings","slideCount","initialized","width","slick","rows","infinite","header","$header","height","items","selectric","arrowButtonMarkup","$toggle","$nav","scrollTop","state","$section","children","slideDown","stop","slideUp","hide","$tab","index","eq","fadeIn","changeTab","$scrollbtn","href","animate","$link","not","$block"],"mappings":"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","file":"../common.min.js","sourcesContent":["lazySizes.cfg.init = false;\ncustomScroll();\n\n$(document).ready(function(){\n  select.init();\n  hoverTouchEvents();\n  inputs();\n  search();\n  nav();\n  toggle();\n  scrollTo();\n  popup.init();\n  slider.init();\n  fixedBlocks();\n  tabs();\n  scrollToReviews();\n  header();\n  //обработать изображения после инициализации слайдеров\n  setTimeout(()=>{\n    lazy();\n  },500)\n})\n\n\nconst brakepoints = {\n  xs: 576,\n  sm: 768,\n  md: 992,\n  lg: 1280\n}\n\n\n//hover/touch custom events\nfunction hoverTouchEvents() {\n  let $targets = 'a[class], button, label, input, textarea, tr, .js-touch-hover, .selectric-items li, .selectric .label, .button';\n  $(document).on('mouseenter mouseleave touchstart touchend mousedown mouseup contextmenu', $targets, function(event) {\n    let $target = $(this),  \n    touchTimer;\n    //mobile events\n    if(!device.desktop()) {\n      if(event.type=='touchstart') {\n        if(touchTimer) clearTimeout(touchTimer);\n        $target.addClass('touch');\n      } \n      else if(event.type=='touchend') {\n        touchTimer = setTimeout(function(){\n          $target.removeClass('touch');\n        }, 150)\n      }\n    } \n    //desktop events\n    else {\n      \n      if(event.type=='mouseenter') {\n        $target.addClass('hover');\n      } \n      else if(event.type=='mousedown') {\n        $target.addClass('mousedown');\n      } \n      else if(event.type=='mouseup') {\n        $target.removeClass('mousedown');\n      } \n      else {\n        $target.removeClass('hover');\n        $target.removeClass('mousedown');\n      }\n\n    }  \n  })\n}\n//lazyload\nfunction lazy() {\n  //add lazy backgrounds\n  document.addEventListener('lazybeforeunveil', function(e){\n    let el = e.target.tagName,\n        bg = e.target.getAttribute('data-src'),\n        parent = e.target.parentNode;\n\n    if(el!=='IMG') {\n      let bg = e.target.getAttribute('data-src');\n      e.target.style.backgroundImage = `url('${bg}')`;\n    }\n  });\n  lazySizes.init();\n}\n\nwindow.popup = {\n  init: function() {\n    this.$trigger = $('[data-popup-open]');\n    this.$close = $('[data-popup-close]')\n\n    this.$trigger.on('click', function(event) {\n      event.preventDefault();\n      let $popup = $($(this).attr('href'));\n      if($popup.length) {\n        popup.open($popup);\n      }\n    })\n\n    $(document).on('click', function(event) {\n      let $target = $(event.target);\n      if(\n        ($target.closest(popup.$close).length) ||\n        ($target.closest('.popup').length && $target.closest('.popup-block__container').length==0)\n      ) \n      {\n        event.preventDefault();\n        let $popup = $target.closest('.popup').length ? $target.closest('.popup') : $('.city-question-popup');\n        popup.close($popup);\n      }\n    })\n\n  }, \n  open: function($popup) {\n    let event = () => {\n      this.active = $popup;\n      scrollLock.disablePageScroll();\n      $popup.addClass('active');\n    }\n\n    if(this.active) {\n      popup.close(this.active, function() {\n        event();\n      });\n    } else {\n      event();\n    }\n\n  }, \n  close: function($popup, callback) {\n    scrollLock.enablePageScroll();\n    $popup.removeClass('active');\n    setTimeout(()=>{\n      this.active = undefined;\n      typeof callback === 'function' && callback();\n    }, 250)\n  }\n}\n\nfunction inputs() {\n  let $form = $('.js-validation'),\n      $input = $('input, textarea');\n\n\n  $input.on('focus', function() {\n    $(this).addClass('focused');\n  })\n  $input.on('blur', function() {\n    $(this).removeClass('focused');\n  })\n  $input.on('input change', function() {\n    check();\n  })\n  function check() {\n    $input.each(function() {\n      let value = $(this).val();\n      if(value=='') {\n        $(this).removeClass('filled');\n        $(this).parent().removeClass('filled');\n      } else {\n        $(this).addClass('filled');\n        $(this).parent().addClass('filled');\n      }\n    })\n  }\n  check();\n      \n  let namspaces = {\n    phone: '[name=\"phone\"]',\n    email: '[name=\"email\"]',\n    name: '[name=\"name\"]',\n    message: '[name=\"message\"]'\n  },\n  conditions = {\n    phone: {\n      format: {\n        pattern: /^\\+7 \\d{3}\\ \\d{3}\\-\\d{4}$|()/,\n        message: '^Некорректный номер телефона'\n      },\n      presence: {\n        allowEmpty: false,\n        message: '^Введите номер телефона'\n      }\n    },\n    email: {\n      email: {\n        message: '^Неправильный формат. Попробуйте что-то с @'\n      }\n    },\n    name: {\n      presence: {\n        allowEmpty: false,\n        message: '^Введите ваше имя'\n      },\n      length: {\n        minimum: 2,\n        tooShort: \"^Имя слишком короткое (минимум %{count} символа)\",\n        maximum: 20,\n        tooLong: \"^Имя слишком длинное (максимум %{count} символов)\"\n      }\n    },\n    message: {\n      length: {\n        maximum: 200,\n        tooLong: \"^Сообщение слишком длинное (максимум %{count} символов)\"\n      }\n    }\n  },\n  mask = Inputmask({\n    mask: \"+7 999 999-9999\",\n    showMaskOnHover: false,\n    clearIncomplete: false\n  }).mask(namspaces.phone);\n\n  //validation events\n  $form.each(function() {\n    let $form = $(this),\n        $inputs = $form.find('input, textarea');\n\n    $inputs.on('input', function() {\n      setTimeout(()=>{\n        validateForm($(this));\n      }, 100)\n    })\n\n    function validateForm($input) {\n      let values = {};\n      let constraints = {};\n\n      $inputs.each(function() {\n        let $input = $(this);\n        for(let key in namspaces) {\n          if($input.is(namspaces[key]) && ($(this).hasClass('required') || $(this).hasClass('filled'))) {\n            values[key] = $input.val();\n            constraints[key] = conditions[key];\n          }\n        }\n      })\n\n      let resault = validate(values, constraints);\n\n      if(resault!==undefined) {\n        if($input!==undefined) {\n          let flag=true;\n          for(let key in resault) {\n            if($input.is(namspaces[key]) && ($input.hasClass('required') || $input.hasClass('filled'))) {\n              flag=false;\n            }\n          }\n          if(flag) {\n            $input.removeClass('error');\n          }\n        } else {\n          $inputs.removeClass('error');\n          $inputs.parent().find('.input__message').remove();\n          for(let key in resault) {\n            $inputs.each(function() {\n              let $input = $(this);\n              if($input.is(namspaces[key]) && ($input.hasClass('required') || $input.hasClass('filled'))) {\n                $input.addClass('error');\n                $input.parent().append(`<span class=\"input__message\">${resault[key][0]}</span>`);\n              }\n            })\n          }\n        }\n        return false;\n      } else {\n        $inputs.removeClass('error');\n        $inputs.parent().find('.input__message').remove();\n        return true;\n      }\n    }\n\n    $form.on('submit', function(event) {\n      event.preventDefault();\n      if(validateForm()) {\n        console.log('submit!');\n        $inputs.val('').trigger('change');\n        popup.open($('#succes'));\n      }\n    })\n\n  })\n}\n\nfunction search() {\n  let $parent = $('.search');\n\n  $parent.each(function() {\n    let $this = $(this),\n        $input = $this.find('.search__input'),\n        $content = $this.find('.search__content'),\n        focus = false,\n        mouseenter = false;\n\n    $content.on('mouseenter mouseleave', function(event) {\n      if(device.desktop()) {\n        if(event.type=='mouseenter') {\n          mouseenter=true;\n        } else {\n          mouseenter=false;\n          if(!focus) {\n            $this.removeClass('active-content');\n          }\n        }\n      }\n    })\n    $input.on('blur focus input', function(event) {\n      console.log('++')\n      if(event.type=='blur') {\n        focus = false;\n        if(!mouseenter && device.desktop()) {\n          $this.removeClass('active-content');\n        }\n      } else if(event.type=='focus') {\n        focus = true;\n      } else {\n        let val = $(this).val();\n        if(val!=='') {\n          $this.addClass('active').addClass('active-content');\n        } else {\n          $this.removeClass('active').removeClass('active-content');\n        }\n      }\n    })\n\n    $(document).on('touchstart', function(event) {\n      let $target = $(event.target);\n      if($target.closest($this).length==0) {\n        $this.removeClass('active-content');\n      }\n    }) \n    \n  })\n\n}\n\nfunction customScroll() {\n  let $containers = document.querySelectorAll('.scrollbar');\n  $containers.forEach(($element)=>{\n    let $this = $($element),\n        $container, $content;\n\n    if(device.desktop() && !$this.is('.scrollbar_mobile-only')) {\n      let simpleBar = new SimpleBar($element);\n      $container = $this;\n      $content = $this.find('.scrollbar__content');\n      //event\n      simpleBar.getScrollElement().addEventListener('scroll', function() {\n        gradientCheck();\n      });\n    } \n    else {\n      $this.addClass('scrollbar_mobile');\n      $container = $this.find('.scrollbar__content');\n      $content = $this.find('.scrollbar__inner');\n      //event\n      $container.on('scroll',function(){\n        gradientCheck();\n      });\n    }\n\n    $container.add($content).attr('data-scroll-lock-scrollable', '')\n  \n    gradientCheck();\n  \n    function gradientCheck() {\n      let scrollHeight = $content.outerHeight() - $container.outerHeight(),\n          scroll = $container.offset().top - $content.offset().top;\n\n      console.log($content.outerHeight())\n\n      if(scroll > 0) {\n        $this.removeClass('scrollbar_start')\n      } else {\n        $this.addClass('scrollbar_start')\n      }\n      if(scroll < scrollHeight) {\n        $this.removeClass('scrollbar_end')\n      } else {\n        $this.addClass('scrollbar_end')\n      }\n    }\n\n  })\n}\n\nlet slider = {\n  el: $('.slider'),\n  init: function() {\n    slider.el.each(function () {\n      let slideCount = 1,\n          slideCountLg = 1,\n          slideCountMd = 1,\n          slideCountSm = 1,\n          slideCountXs = 1,\n          arrows = false,\n          dots = false,\n          centerMode = false,\n          autoplay = false,\n          nextArrow = '<button type=\"button\" class=\"button button_style-1 slider__next\"><svg class=\"icon\" viewBox=\"0 0 12 20\"><path d=\"M2.18 19.05L.77 17.64 8.4 10 .77 2.36 2.18.95 11.23 10l-9.05 9.05z\"></path></svg></button>',\n          prevArrow = '<button type=\"button\" class=\"button button_style-1 slider__prev\"><svg class=\"icon\" viewBox=\"0 0 12 20\"><path d=\"M2.18 19.05L.77 17.64 8.4 10 .77 2.36 2.18.95 11.23 10l-9.05 9.05z\"></path></svg></button>';\n\n\n      if($(this).is('.popular-projects__slider')) {\n        arrows = true;\n        slideCount = 2;\n        slideCountLg = 2;\n        slideCountMd = 2;\n        slideCountSm = 2;\n        slideCountXs = 1;\n        if($(this).is('.popular-projects__slider_mobile-only')) {\n          let initialized=false;\n          let check =()=> {\n            if($(window).width()<brakepoints.md && !initialized) {\n              initialized=true;\n              initSlider($(this));\n            } else if($(window).width()>=brakepoints.md && initialized) {\n              initialized=false;\n              setTimeout(()=>{\n                $(this).slick('unslick');\n              },500)\n            }\n          }\n          check();\n          $(window).on('resize', function() {\n            check();\n          })\n        } \n        else {\n          initSlider($(this));\n        }\n      } \n      \n      else if($(this).is('.home-banner')) {\n        arrows = true;\n        dots = true;\n        autoplay = true;\n        nextArrow = '<button class=\"home-banner__arrow home-banner__next\" aria-label=\"Next\" type=\"button\"><svg viewBox=\"0 0 15 26\"><path d=\"M1.99869 0.292969L0.584473 1.70718L11.8774 13.0001L0.584472 24.293L1.99869 25.7072L14.7058 13.0001L1.99869 0.292969Z\"/></svg></button>';\n        prevArrow = '<button class=\"home-banner__arrow home-banner__prev\" aria-label=\"Previous\" type=\"button\"><svg viewBox=\"0 0 15 26\"><path d=\"M13.286 0.292969L14.7002 1.70718L3.4073 13.0001L14.7002 24.293L13.286 25.7072L0.578877 13.0001L13.286 0.292969Z\"/></svg></button>';\n        initSlider($(this));\n      } \n      \n      else if($(this).is('.news-preview-section__slider')) {\n        arrows = true;\n        slideCount = 3;\n        slideCountLg = 3;\n        slideCountMd = 2;\n        slideCountSm = 2;\n        slideCountXs = 1;\n        initSlider($(this));\n      } \n      \n      else if($(this).is('.section-partners__slider')) {\n        arrows = true;\n        autoplay = true;\n        slideCount = 6;\n        slideCountLg = 5;\n        slideCountMd = 4;\n        slideCountSm = 3;\n        slideCountXs = 1;\n        initSlider($(this));\n      }\n\n\n      function initSlider($target) {\n        $target.slick({\n          rows: 0,\n          infinite: true,\n          dots: dots,\n          arrows: arrows,\n          nextArrow: nextArrow,\n          prevArrow: prevArrow,\n          speed: 500,\n          centerMode: centerMode,\n          slidesToShow: slideCount,\n          slidesToScroll: slideCount,\n          autoplay: autoplay,\n          autoplaySpeed: 5000,\n          responsive: [{\n              breakpoint: brakepoints.lg,\n              settings: {\n                slidesToShow: slideCountLg,\n                slidesToScroll: slideCountLg\n              }\n            },\n            {\n              breakpoint: brakepoints.md,\n              settings: {\n                slidesToShow: slideCountMd,\n                slidesToScroll: slideCountMd\n              }\n            },\n            {\n              breakpoint: brakepoints.sm,\n              settings: {\n                slidesToShow: slideCountSm,\n                slidesToScroll: slideCountSm\n              }\n            },\n            {\n              breakpoint: brakepoints.xs,\n              settings: {\n                slidesToShow: slideCountXs,\n                slidesToScroll: slideCountXs\n              }\n            }\n          ]\n        });\n      }\n    \n    });\n\n  }\n}\n//select\nlet select = {\n  init: function() {\n    this.items = $('select');\n    if(this.items.length) {\n      this.items.selectric({\n        disableOnMobile: false,\n        nativeOnMobile: false,\n        arrowButtonMarkup: '<svg class=\"icon\" viewBox=\"0 0 12 7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.72606 -1.19209e-07L11.1403 1.41421L5.57036 6.98453L4.15614 5.57031L9.72606 -1.19209e-07Z\"/><path d=\"M0 1.41421L1.41421 1.19209e-07L6.98434 5.57047L5.57036 6.98453L0 1.41421Z\"/></svg>'\n      });\n    }\n  }\n}\n\nfunction header() {\n  let $header = $('.header'), \n      height,\n      scroll;\n\n  check();\n  $(window).scroll(function() {\n    check();\n  });\n\n  function check() {\n    if($(window).width()<brakepoints.md) {\n      scroll = $(window).scrollTop();\n      height = 130;\n\n      if(scroll>height){\n        $header.addClass('fixed');\n      } else {\n        $header.removeClass('fixed');\n      }\n    }\n\n  }\n  \n}\n\nfunction nav() {\n  let $toggle = $('.nav-toggle'),\n      $nav = $('.mobile-nav'),\n      state;\n  $toggle.on('click', function(event){\n    event.preventDefault();\n    if(!state) {\n      open();\n    } else {\n      close();\n    }\n  })\n\n  function open() {\n    state = true;\n    scrollLock.disablePageScroll();\n    $nav.add($toggle).addClass('active');\n  }\n  function close() {\n    state = false;\n    scrollLock.enablePageScroll();\n    $nav.add($toggle).removeClass('active');\n  }\n}\n\nfunction toggle() {\n  let $section = $('.toggle-section'),\n      speed = 250;\n\n  $section.each(function() {\n    let $this = $(this),\n        $toggle = $this.children('.toggle-section__head'),\n        $content = $this.children('.toggle-section__content'),\n        state = $this.hasClass('active') ? true : false,\n        initialized,\n        height = $content.height();\n\n    if($this.is('[data-out-hide]')) {\n      $(document).on('click touchstart', function(event) {\n        let $target = $(event.target);\n        if(!$target.closest($content).length && !$target.closest($toggle).length && state) {\n          state=false;\n          check();\n        }\n      })\n    }\n\n    $toggle.on('click', function() {\n      state = !state ? true : false;\n      check();\n    })\n\n    function check() {\n      if(state) {\n        $this.add($content).add($toggle).addClass('active');\n        if(!$this.is('[data-class-only]')) {\n          if($content.is('.scrollbar')) {\n            $content.height(height);\n          }\n          $content.slideDown(speed);\n        }\n      } \n      else {\n        $this.add($toggle).add($content).removeClass('active');\n        if(!$this.is('[data-class-only]')) {\n          if(initialized) {\n            if($content.is('.scrollbar')) {\n              height = $content.height();\n            }\n            $content.stop().slideUp(speed);\n          } else {\n            $content.hide(0);\n          }\n        }\n      }\n    }\n\n    check();\n\n    initialized=true;\n  })\n}\n\n//tabs\nfunction tabs() {\n  let $tabs = $('.tabs');\n\n  $tabs.each(function() {\n    let $trigger = $(this).find('.tabs__toggle'),\n        $tab = $(this).find('.tabs__block'),\n        index = $(this).find('.tabs__block.active').length>0 ? $(this).find('.tabs__block.active').index() : 0;\n\n    changeTab();\n\n    $trigger.on('click', function() {\n      index = $(this).index();\n      changeTab();\n    })\n\n    function changeTab() {\n      $tab.hide().eq(index).fadeIn(250);\n      $trigger.removeClass('active').eq(index).addClass('active');\n    }\n\n  })\n}\n\n//scroll\nfunction scrollTo() {\n  let $scrollbtn = $('[data-scroll]'),  \n      speed = 500; //ms\n  $scrollbtn.on('click', function(event) {\n    event.preventDefault();\n    let href = $(this).attr('href'),\n        $target = $(href);\n\n    if($target.length) {\n      $('html, body').animate({\n        scrollTop: $target.offset().top\n      }, speed);\n    }\n\n  })\n}\n//scroll to reviews\nfunction scrollToReviews() {\n  let $link = $('[data-reviews]'),  \n      speed = 500; //ms\n  $link.on('click', function(event) {\n    event.preventDefault();\n    let $target;\n    if($(window).width()<brakepoints.md) {\n      $target = $('.item-info__reviews');\n    } else {\n      $target = $('.item-info__content');\n    }\n\n    $('.item-info__reviews-toggle:visible').not('.active').trigger('click');\n\n    if($target.length) {\n      $('html, body').animate({\n        scrollTop: $target.offset().top\n      }, speed);\n    }\n\n  })\n}\n\nfunction fixedBlocks() {\n  let $open = $('[data-fixed-toggle]');\n\n  $open.on('click', function(event) {\n    event.preventDefault();\n    let href = $(this).attr('href'),\n        $block = $(href);\n\n    if($block.length) {\n      $block.addClass('active');\n      scrollLock.disablePageScroll();\n\n      let $close = $block.find('[data-fixed-close]');\n\n      $close.on('click', function(event) {\n        event.preventDefault();\n        $block.removeClass('active');\n        scrollLock.enablePageScroll();\n      });\n    }\n  })\n}\n\n\n"]}