{"version":3,"sources":["common.js"],"names":["lazySizes","cfg","init","customScroll","ready","document","select","hoverTouchEvents","inputs","search","nav","toggle","popup","header","setTimeout","lazy","sm","brakepoints","md","lg","touchTimer","$","device","desktop","event","$target","type","this","removeClass","addClass","addEventListener","e","target","$trigger","tagName","getAttribute","parentNode","el","style","backgroundImage","concat","bg","$popup","$form","$input","check","each","val","phone","email","parent","message","on","value","pattern","namspaces","presence","allowEmpty","minimum","tooShort","maximum","name","length","mask","Inputmask","tooLong","validateForm","clearIncomplete","values","constraints","$inputs","find","resault","validate","undefined","flag","is","key","hasClass","remove","append","_loop","_this3","console","open","trigger","$this","focus","mouseenter","$content","log","closest","querySelectorAll","$element","$container","simpleBar","scroll","outerHeight","offset","top","getScrollElement","gradientCheck","attr","preventDefault","close","$close","active","_this","disablePageScroll","callback","_this2","scrollLock","slider","slideCountLg","_this4","slideCountMd","slideCountSm","slideCountXs","arrows","dots","centerMode","autoplay","nextArrow","prevArrow","speed","initSlider","slidesToShow","slidesToScroll","autoplaySpeed","responsive","breakpoint","settings","slideCount","xs","initialized","window","width","slick","rows","infinite","$header","height","items","selectric","arrowButtonMarkup","$toggle","$nav","scrollTop","state","enablePageScroll","$section","children","add","stop","slideDown","slideUp","hide"],"mappings":"aAAAA,UAAUC,IAAIC,MAAO,EACrBC,eAAAA,EAAAA,UAAYC,MAAA,WAEVC,OAAAA,OACAC,mBACAC,SACAC,SACAC,MACAC,SACAC,MAAMT,OACNU,OAAMV,OAGNW,SAEAC,WAAW,WACTC,QADQ,OAQVC,IAAIC,YAFc,CAGlBC,GAAI,IACJC,GAAI,IADJD,GAKF,IAJEC,GAAI,MAQF,SACAC,mBAEAC,EAAAhB,UAAIiB,GAAOC,0EALE,iHAKS,SAAAC,GACpB,IACEJ,EADFK,EAASC,EAANC,MAAHL,OAIKC,UAmBKK,cAARH,EAAAA,KACAA,EAAAA,SAAQG,SAGX,aAAAJ,EAAAE,KAhCHD,EAAAI,SAAA,cAwBwB,WAAZL,EAAME,MAclBrB,EAASyB,YAAiB,SAbpBL,EAAQG,YAAY,cAfPd,cAAbM,EAAAA,MACEK,GAAQG,aAAYR,GACrBK,EAFDI,SAAA,UAKJ,YAAAL,EAAAE,OAXAN,EAYKN,WAAA,WAEHW,EAASC,YAAM,UACbD,QA0BFM,SAAEC,OAEL3B,SATDyB,iBAAA,mBAAA,SAAAC,GAUA/B,IAKOiC,EALPjC,EAAUE,EAAAA,OAAVgC,QACDH,EAAAC,OAAAG,aAAA,YARgBJ,EAAEC,OAAOI,WAWlB,QAAFC,IACGJ,EAAAA,EAALD,OAAkBG,aAAA,YAClBJ,EAAAC,OAAAM,MAAgBC,gBAAhB,QAAAC,OAAAC,EAAA,SAIEzC,UAAI0C,OA2DP,SAFDlC,SAVA,IAAImC,EAAQtB,EAAE,kBAaduB,EAASC,EAAT,mBAWC,SAAAA,IAVCD,EAAOE,KAAK,WAaD,IAFRzB,EAAAM,MAAAoB,OAGHC,EAAKrB,MAAEC,YADO,UAEdqB,EAAKtB,MAAEuB,SAAAtB,YAFO,YAIduB,EAAAA,MAAStB,SAAA,UAJXR,EAAAM,MAAAuB,SAAArB,SAAA,aAvBAe,EAAOQ,GAAG,QAAS,WAYf/B,EAAAM,MAAG0B,SAAH,aAEEhC,EAAC+B,GAAC,OAAMF,WACT7B,EAAAM,MAHDC,YAGO,aAELP,EAAC+B,GAAC,eAAevB,WAClBgB,MAcCS,IADM,IAAAC,EADH,CAKLC,MAAAA,iBACEC,MAAAA,iBACAN,KAAAA,gBAFQA,QAAA,oBAKZF,EAAO,CACLA,MAAK,CACHE,OAAAA,CADKG,QAAA,+BAZEH,QAAA,gCAiBTK,SAAU,CACRC,YAAY,EACZN,QAAS,4BAGTO,MAAAA,CACAC,MAAAA,CACAC,QAAS,gDARPC,KAhBK,CA4BXV,SAAS,CACPW,YAAQ,EACNF,QAAS,qBADHE,OAAA,CADDJ,QAAA,EAlCXC,SAAA,mDAyCAI,QAAOC,GACDC,QAAE,sDADDd,QAICI,CAVJO,OAAQ,CAaNhB,QAAK,IACLH,QAAS,6DARRqB,UAAU,CAYblD,KAAAA,kBACEoD,iBAAa7C,EACd8C,iBAFD,IADFJ,KAAAR,EAAAP,OAOEL,EAAAG,KAAIsB,WACJ,IAAAzB,EAAI0B,EAAAA,MAEJC,EAAA3B,EAAa4B,KAAA,mBAOV,SAAAL,EAAAtB,GACF,IARDwB,EAAA,GAUII,EAAUC,GAEdH,EAAGE,KAAO,WACR,IAAG5B,EAAMvB,EAAGqD,MACV,IAAA,IAAIC,KAAKpB,EAXNX,EAAOgC,GAAGrB,EAAUsB,MAAUxD,EAAEM,MAAMmD,SAAS,aAAezD,EAAEM,MAAMmD,SAAS,aAYlFV,EAAQS,GAAOL,EAAfzB,MACEsB,EAAUO,GAAGrB,EAAVsB,MAIL,IAAAL,EAASC,SAAAL,EAAAC,GAER,QAAAK,IAAAF,EAkBH,OACDF,EAAA1C,YAAA,SACF0C,EAAApB,SAAAqB,KAAA,mBAAAQ,SAFU,EAjBN,QAAML,IAVP9B,EAUO,CACL0B,IAAAA,GAAQ1C,EACR0C,IAAAA,IAAQpB,KAARsB,EATK5B,EAAOgC,GAAGrB,EAAUsB,MAAUjC,EAAOkC,SAAS,aAAelC,EAAOkC,SAAS,aAO7EH,GAAA,GAHFA,GASC/B,EAAGA,YAAUW,aAEXX,CACD0B,EAAA1C,YAAA,SACF0C,EANDpB,SAAAqB,KAAA,mBAAAQ,SAJG,IAAA,IAAAF,KAAAL,GAQC5B,SARDiC,GAIHP,EAAQxB,KAAK,WADf,IAAIF,EAAW4B,EAAAA,MAAS5B,EAAAgC,GAAArB,EAAAsB,MAAAjC,EAAAkC,SAAA,aAAAlC,EAAAkC,SAAA,aAQvBlC,EAAAf,SAAA,SACFe,EAAAM,SAAA8B,OAAA,gCAAAxC,OAAAgC,EAAAK,GAAA,GAAA,eAZMI,CAAAJ,IAjCXP,EAAQlB,GAAG,QAAS,WAAW,IAAA8B,EAAAvD,KAY3Bb,WAAQ+D,WACNX,EAAUU,EAAPM,KACDd,OA0CNzB,EAAGuB,GAAAA,SAAY,SAAI1C,GACjB2D,EAAAA,iBACAb,MACA1D,QAAMwE,IAAM,WACbd,EAAAvB,IAAA,IAAAsC,QAAA,UANHzE,MAAAwE,KAAA/D,EAAA,iBAgBA,SAAIiE,SACMjE,EAAGiE,WAETC,KAAK,WAHT,IAIIC,EAAAA,EAAU7D,MAEd8D,EAAYH,EAAAf,KAAA,kBACVkB,EAAUlE,EAAPgD,KAAkB,oBACnBgB,GAAG/D,EACDgE,GAAU,EAEVA,EAAAA,GAAAA,wBAAA,SAAAhE,GAJDF,OAAOC,YAKK,cAAXC,EAAI+D,KACFD,GAAM1D,GAET4D,GAAA,EACFD,GAVHD,EAAA1D,YAAA,sBAeI2D,EAAAA,GAAK,mBAAL,SAAA/D,GAFF2D,QAAQO,IAAI,MAGNF,QAAJhE,EAAIgE,MACFF,GAAM1D,GACP4D,GAAAlE,OAAAC,WAJH+D,EAKO1D,YAAG,mBAEH,SAAAJ,EAAAE,KACL6D,GAAO,EAEC1D,KADFR,EAAGM,MAAIoB,MAAbuC,EAEOzD,SAAA,UAAAA,SAAA,kBAENyD,EAAA1D,YAAA,UAAAA,YAAA,oBAILP,EAAEhB,UAAU+C,GAAG,aAAc,SAAS5B,GAGhB,GADTmE,EAAAA,EAAQL,QACX1D,QAAN0D,GAAkBxB,QACnBwB,EAAA1D,YAAA,sBAUH,SAAI0D,eAAJjF,SAAAuF,iBAAA,cACgBH,QADhB,SAAAI,GAAA,IAMEJ,EADAK,EAGAC,EARET,EAAQjE,EAAEwE,GA8BZ,SAAGG,IACDV,IAAAA,EAAAG,EAAkBQ,cAAlBH,EAAAG,cADFD,EAEOF,EAAAI,SAAAC,IAAAV,EAAAS,SAAAC,IAEN,EAAAH,EAHCV,EAAM1D,YAAY,mBAKlB0D,EAAM1D,SAAAA,mBAEN0D,EAAMzD,EACPyD,EAAA1D,YAAA,iBAxCL0D,EAAAzD,SAAA,iBAMIiE,OAAAA,WACAL,EAAgB,IAAClB,UAAKsB,GAEtBE,GAHAD,EAAaR,GAGHc,KAAAA,uBAETL,EAFDK,mBAAAtE,iBAAA,SAAA,WALFuE,QAUEf,EAAMzD,SAAS,oBAIfiE,EAAAR,EAAcf,KAAS,uBACrB8B,EAAAA,EAAa9B,KAAA,qBAEhBuB,EAAA1C,GAAA,SAAA,WAFGiD,OAQJP,EAASO,IAAAA,GAAgBC,KAAA,8BAAA,IACvBD,MAhREzF,OAAAA,MAAMwE,CACPlF,KAAA,WACFyB,KANDM,SAAAZ,EAAA,qBAQAA,KAAEhB,OAAFgB,EAAe,sBARfM,KAAKM,SAASmB,GAAG,QAAS,SAAS5B,GAUjCA,EACGC,iBAIDD,IAAAA,EAAM+E,EAAAA,EAAAA,MAAND,KAAA,SACA5D,EAAIA,QACJ9B,MAAM4F,KAAN9D,KAKN0C,EAAI/E,UAAE+C,GAAA,QAAA,SAAiB5B,GAAA,IANbkB,EAMajB,EAAAJ,EAAAG,EAAAQ,SACjBR,EAAQmE,QAARnE,MAAQiF,QAAM3C,QAChBrC,EAAKiF,QAAShE,UAAdoB,QAAA,GAAArC,EAAAkE,QAAA,2BAAA7B,UADFtC,EAAA+E,iBAPQ7D,EAASjB,EAAQkE,QAAQ,UAAU7B,OAASrC,EAAQkE,QAAQ,UAAYtE,EAAE,wBAa/ET,MAAK8F,MAARhE,OAKElB,KAAAA,SAAKkB,GACN,SAAAlB,IAxCUmF,EAAAD,OAAAhE,EA2Cb8D,WAAOI,oBAA2BlE,EAAAb,SAAA,UAJzB,IAAA8E,EAAAhF,KAMPe,KAAOd,OACPd,MAAAA,MAAWa,KAAA+E,OAAI,WACblF,MAGHA,KAIDgF,MAAI7D,SAAUD,EAAAmE,GAAd,IAAAC,EAAAnF,KAAAoF,WACa1F,mBAGbuB,EAAAhB,YAAmB,UACjBP,WAAQQ,WADViF,EAAAJ,YAAAhC,EAGkB,mBAARmC,GAAmBA,KACzB,OAgPyB,IAAAG,OAAA,CAF7B3E,GAAIhB,EAAE,WAGFnB,KAAA,WAAA8G,OACIC,GAAAA,KAAAA,WADJ,IAsBQpE,EACFA,EAvBNqE,EAAAvF,KAEIwF,EAAY,EACZC,EAAe,EACfC,EAAe,EACfC,EALJ,EAMIC,EANJ,EAOIC,GAAAA,EACAC,GAAAA,EACAC,GAAY,EACZC,GAAS,EADTD,EAAY,6MAIbrG,EAAW,6MAqEVuG,SAAKC,EAPOpG,GAQZ+F,EAAAA,MAAYA,CACZM,KAAAA,EACAC,UAAAA,EACAN,KAAAA,EACAO,OAAAA,EACAC,UAAUP,EACNQ,UAAAA,EACAC,MAAAA,IACEL,WAAAA,EACAC,aAAAA,EAFQA,eAAAK,EAFDX,SAOXA,EACES,cAAYjH,IACZkH,WAAU,CAAA,CACRL,WAAY7G,YAAEkG,GACdY,SAAAA,CAFQD,aAAAb,EAKZc,eAAAd,IAGIa,CACAC,WAAAA,YAAgBX,GAFRe,SAAA,CAKZL,aAAAX,EACEe,eAAYjH,IAGV8G,CAFQG,WAAAjH,YAAAD,GAvBFmH,SAAA,CAbdL,aAAAV,EA2CDW,eAAAX,IAMP,CAdcc,WAAYjH,YAAYoH,GAezBF,SAAA,CACLL,aAAWT,EACfU,eAAAV,OA/GIJ,EAAAA,MAAAA,GAAY,8BACZE,GAAAA,EAGAC,EAHAD,EAEAE,EADAD,EAAY,EAGVC,EAAIiB,EADHjH,EAAEM,MAAMiD,GAAG,0CAER/B,GAAO,GACTA,EAAK0F,WACHD,EAAAA,QAAWE,QAAXvH,YAAAC,KAAAoH,GACAT,GAAY,EAFdA,EAGYU,EAAAA,KACVD,EAAAA,QAAYE,SAAZvH,YAAAC,IAAAoH,IACAxH,GAAW,EACTO,WAAA,WADQA,EAER6F,GAFFuB,MAAA,YAGD,UAGHpH,EAAEkH,QAAQnF,GAAG,SAAU,WACrBP,OAKHgF,EAAAxG,EAAAM,QAMD8F,EAAQ9F,MAAGiD,GAAX,iBAGAiD,EADAF,EADAD,GAAS,EAJNA,EASK,gQACRJ,EAAS,+PACTc,EAAU/G,EAAGM,QAGbyF,EAAAA,MAAYxC,GAAZ,kCACAyC,GAAAA,EANGJ,EAOHY,EAAa,EAKbJ,EADAH,EAAA,EAEAc,EAAA,EACAnB,EAAAA,EAAYtF,QAGZ0F,EAAAA,MAAYzC,GAAZ,+BAED6C,EADCI,GAAAA,EALAO,EAAa,EASfnB,EAASY,EACPpG,EAAc,EACZiH,EADY,EAEZC,EAAU,EACVpB,EAAMA,EAHM5F,YA+DtBrB,OAASO,CACPX,KAAI0I,WAAJjH,KACIkH,MADJxH,EAAA,UAEI2E,KAFJ8C,MAAAhF,QAIAjB,KAAKiG,MAAAC,UAAA,CACHR,iBAAe,EACf1F,gBAAK,EADPmG,kBAAA,iRANF,SAASnI,SAeH,IAECmF,EAFD4C,EAASvH,EAAA,WAWf,SAASX,IACHuI,EAAAA,QAAWT,QAACvH,YAAhBC,KACIgI,EAAS7H,EAAAkH,QAAAY,YADb,IAIOnD,EAfD4C,EAAQ/G,SAAS,SAiBnBuD,EAAIxD,YAAA,UAdHiB,IACFxB,EAAAkH,QAAAvC,OAAA,WAEFnD,MAmBCkE,SAAAA,MACAmC,IAbEE,EAaFF,EAASD,EAAAA,eACVC,EAAA7H,EAAA,eACD4H,EAAA7F,GAASoD,QAAQ,SAAAhF,GACf4H,EAAK7C,iBACLQ,GAUAqC,GAIId,EAJJvB,WAAAsC,mBAAAH,EAMIL,IAAAA,GAASpD,YANb,YADF6D,GAASxG,EACPiE,WAASH,oBAATsC,EACID,IAAAA,GAAU3D,SAAMiE,aAWhB,SAAA5I,SAhBN,IAAI2I,EAAWjI,EAAE,mBAmBTwB,EAAAA,KAAK,WACN,IAILoG,EAJK3D,EAAAjE,EAAAM,MALHsH,EAAA3D,EAAAiE,SAAA,yBAOD9D,EAAAH,EAAAiE,SAAA,4BAfGH,IAAQ9D,EAAMR,SAAS,UAmBzBjC,EAAK4C,EAAAoD,SAkBA,SAAAhG,IACFuG,GACF9D,EAAAkE,IAAA/D,GAAA+D,IAAAP,GAAApH,SAAA,UACFyD,EAAAV,GAAA,uBAdKa,EAASoD,OAAOA,GAgBjBpD,EAAAgE,OAAAC,UAhCGjI,QAqBJ6D,EAAMkE,IAAIP,GAASO,IAAI/D,GAAU7D,YAAY,UACzC0D,EAAMV,GAAG,uBACR0D,EACD7C,EAASgE,OAAOE,QAxBhBlI,KA0BAgE,EAASmE,KAAK,KAbpBtE,EAAG8D,GAAH,oBACE9D,EAAAA,UAAUG,GAAAA,mBAAuB5D,SAASL,GAf1C,IAAIC,EAAUJ,EAAEG,EAAMQ,QAgBnBP,EAAOmD,QAAGa,GAAA3B,QAAsBrC,EAAAkE,QAAAsD,GAAAnF,SAAAsF,IACjC3D,GAAAA,EACAA,OAKFwD,EAAG7F,GAACkC,QAAS,WACX8D,GAAGd,EACD7C,MAQR5C,IAEAyF,GAAY","file":"../common.min.js","sourcesContent":["lazySizes.cfg.init = false;\ncustomScroll();\n\n$(document).ready(function(){\n  select.init();\n  hoverTouchEvents();\n  inputs();\n  search();\n  nav();\n  toggle();\n  popup.init();\n  slider.init();\n\n  header();\n  //обработать изображения после инициализации слайдеров\n  setTimeout(()=>{\n    lazy();\n  },500)\n})\n\n\nconst brakepoints = {\n  xs: 576,\n  sm: 768,\n  md: 992,\n  lg: 1280\n}\n\n\n//hover/touch custom events\nfunction hoverTouchEvents() {\n  let $targets = 'a[class], button, label, input, textarea, tr, .js-touch-hover, .selectric-items li, .selectric .label, .button';\n  $(document).on('mouseenter mouseleave touchstart touchend mousedown mouseup contextmenu', $targets, function(event) {\n    let $target = $(this),  \n    touchTimer;\n    //mobile events\n    if(!device.desktop()) {\n      if(event.type=='touchstart') {\n        if(touchTimer) clearTimeout(touchTimer);\n        $target.addClass('touch');\n      } \n      else if(event.type=='touchend') {\n        touchTimer = setTimeout(function(){\n          $target.removeClass('touch');\n        }, 150)\n      }\n    } \n    //desktop events\n    else {\n      \n      if(event.type=='mouseenter') {\n        $target.addClass('hover');\n      } \n      else if(event.type=='mousedown') {\n        $target.addClass('mousedown');\n      } \n      else if(event.type=='mouseup') {\n        $target.removeClass('mousedown');\n      } \n      else {\n        $target.removeClass('hover');\n        $target.removeClass('mousedown');\n      }\n\n    }  \n  })\n}\n//lazyload\nfunction lazy() {\n  //add lazy backgrounds\n  document.addEventListener('lazybeforeunveil', function(e){\n    let el = e.target.tagName,\n        bg = e.target.getAttribute('data-src'),\n        parent = e.target.parentNode;\n\n    if(el!=='IMG') {\n      let bg = e.target.getAttribute('data-src');\n      e.target.style.backgroundImage = `url('${bg}')`;\n    }\n  });\n  lazySizes.init();\n}\n\nwindow.popup = {\n  init: function() {\n    this.$trigger = $('[data-popup-open]');\n    this.$close = $('[data-popup-close]')\n\n    this.$trigger.on('click', function(event) {\n      event.preventDefault();\n      let $popup = $($(this).attr('href'));\n      if($popup.length) {\n        popup.open($popup);\n      }\n    })\n\n    $(document).on('click', function(event) {\n      let $target = $(event.target);\n      if(\n        ($target.closest(popup.$close).length) ||\n        ($target.closest('.popup').length && $target.closest('.popup-block__container').length==0)\n      ) \n      {\n        event.preventDefault();\n        let $popup = $target.closest('.popup').length ? $target.closest('.popup') : $('.city-question-popup');\n        popup.close($popup);\n      }\n    })\n\n  }, \n  open: function($popup) {\n    let event = () => {\n      this.active = $popup;\n      scrollLock.disablePageScroll();\n      $popup.addClass('active');\n    }\n\n    if(this.active) {\n      popup.close(this.active, function() {\n        event();\n      });\n    } else {\n      event();\n    }\n\n  }, \n  close: function($popup, callback) {\n    scrollLock.enablePageScroll();\n    $popup.removeClass('active');\n    setTimeout(()=>{\n      this.active = undefined;\n      typeof callback === 'function' && callback();\n    }, 250)\n  }\n}\n\nfunction inputs() {\n  let $form = $('.js-validation'),\n      $input = $('input, textarea');\n\n\n  $input.on('focus', function() {\n    $(this).addClass('focused');\n  })\n  $input.on('blur', function() {\n    $(this).removeClass('focused');\n  })\n  $input.on('input change', function() {\n    check();\n  })\n  function check() {\n    $input.each(function() {\n      let value = $(this).val();\n      if(value=='') {\n        $(this).removeClass('filled');\n        $(this).parent().removeClass('filled');\n      } else {\n        $(this).addClass('filled');\n        $(this).parent().addClass('filled');\n      }\n    })\n  }\n  check();\n      \n  let namspaces = {\n    phone: '[name=\"phone\"]',\n    email: '[name=\"email\"]',\n    name: '[name=\"name\"]',\n    message: '[name=\"message\"]'\n  },\n  conditions = {\n    phone: {\n      format: {\n        pattern: /^\\+7 \\d{3}\\ \\d{3}\\-\\d{4}$|()/,\n        message: '^Некорректный номер телефона'\n      },\n      presence: {\n        allowEmpty: false,\n        message: '^Введите номер телефона'\n      }\n    },\n    email: {\n      email: {\n        message: '^Неправильный формат. Попробуйте что-то с @'\n      }\n    },\n    name: {\n      presence: {\n        allowEmpty: false,\n        message: '^Введите ваше имя'\n      },\n      length: {\n        minimum: 2,\n        tooShort: \"^Имя слишком короткое (минимум %{count} символа)\",\n        maximum: 20,\n        tooLong: \"^Имя слишком длинное (максимум %{count} символов)\"\n      }\n    },\n    message: {\n      length: {\n        maximum: 200,\n        tooLong: \"^Сообщение слишком длинное (максимум %{count} символов)\"\n      }\n    }\n  },\n  mask = Inputmask({\n    mask: \"+7 999 999-9999\",\n    showMaskOnHover: false,\n    clearIncomplete: false\n  }).mask(namspaces.phone);\n\n  //validation events\n  $form.each(function() {\n    let $form = $(this),\n        $inputs = $form.find('input, textarea');\n\n    $inputs.on('input', function() {\n      setTimeout(()=>{\n        validateForm($(this));\n      }, 100)\n    })\n\n    function validateForm($input) {\n      let values = {};\n      let constraints = {};\n\n      $inputs.each(function() {\n        let $input = $(this);\n        for(let key in namspaces) {\n          if($input.is(namspaces[key]) && ($(this).hasClass('required') || $(this).hasClass('filled'))) {\n            values[key] = $input.val();\n            constraints[key] = conditions[key];\n          }\n        }\n      })\n\n      let resault = validate(values, constraints);\n\n      if(resault!==undefined) {\n        if($input!==undefined) {\n          let flag=true;\n          for(let key in resault) {\n            if($input.is(namspaces[key]) && ($input.hasClass('required') || $input.hasClass('filled'))) {\n              flag=false;\n            }\n          }\n          if(flag) {\n            $input.removeClass('error');\n          }\n        } else {\n          $inputs.removeClass('error');\n          $inputs.parent().find('.input__message').remove();\n          for(let key in resault) {\n            $inputs.each(function() {\n              let $input = $(this);\n              if($input.is(namspaces[key]) && ($input.hasClass('required') || $input.hasClass('filled'))) {\n                $input.addClass('error');\n                $input.parent().append(`<span class=\"input__message\">${resault[key][0]}</span>`);\n              }\n            })\n          }\n        }\n        return false;\n      } else {\n        $inputs.removeClass('error');\n        $inputs.parent().find('.input__message').remove();\n        return true;\n      }\n    }\n\n    $form.on('submit', function(event) {\n      event.preventDefault();\n      if(validateForm()) {\n        console.log('submit!');\n        $inputs.val('').trigger('change');\n        popup.open($('#succes'));\n      }\n    })\n\n  })\n}\n\nfunction search() {\n  let $parent = $('.search');\n\n  $parent.each(function() {\n    let $this = $(this),\n        $input = $this.find('.search__input'),\n        $content = $this.find('.search__content'),\n        focus = false,\n        mouseenter = false;\n\n    $content.on('mouseenter mouseleave', function(event) {\n      if(device.desktop()) {\n        if(event.type=='mouseenter') {\n          mouseenter=true;\n        } else {\n          mouseenter=false;\n          if(!focus) {\n            $this.removeClass('active-content');\n          }\n        }\n      }\n    })\n    $input.on('blur focus input', function(event) {\n      console.log('++')\n      if(event.type=='blur') {\n        focus = false;\n        if(!mouseenter && device.desktop()) {\n          $this.removeClass('active-content');\n        }\n      } else if(event.type=='focus') {\n        focus = true;\n      } else {\n        let val = $(this).val();\n        if(val!=='') {\n          $this.addClass('active').addClass('active-content');\n        } else {\n          $this.removeClass('active').removeClass('active-content');\n        }\n      }\n    })\n\n    $(document).on('touchstart', function(event) {\n      let $target = $(event.target);\n      if($target.closest($this).length==0) {\n        $this.removeClass('active-content');\n      }\n    }) \n    \n  })\n\n}\n\nfunction customScroll() {\n  let $containers = document.querySelectorAll('.scrollbar');\n  $containers.forEach(($element)=>{\n    let $this = $($element),\n        $container, $content;\n\n    if(device.desktop()) {\n      let simpleBar = new SimpleBar($element);\n      $container = $this;\n      $content = $this.find('.scrollbar__content');\n      //event\n      simpleBar.getScrollElement().addEventListener('scroll', function() {\n        gradientCheck();\n      });\n    } \n    else {\n      $this.addClass('scrollbar_mobile');\n      $container = $this.find('.scrollbar__content');\n      $content = $this.find('.scrollbar__inner');\n      //event\n      $container.on('scroll',function(){\n        gradientCheck();\n      });\n    }\n\n    $container.add($content).attr('data-scroll-lock-scrollable', '')\n  \n    gradientCheck();\n  \n    function gradientCheck() {\n      let scrollHeight = $content.outerHeight() - $container.outerHeight(),\n          scroll = $container.offset().top - $content.offset().top;\n\n      if(scroll > 0) {\n        $this.removeClass('scrollbar_start')\n      } else {\n        $this.addClass('scrollbar_start')\n      }\n      if(scroll < scrollHeight) {\n        $this.removeClass('scrollbar_end')\n      } else {\n        $this.addClass('scrollbar_end')\n      }\n    }\n\n  })\n}\n\nlet slider = {\n  el: $('.slider'),\n  init: function() {\n    slider.el.each(function () {\n      let slideCount = 1,\n          slideCountLg = 1,\n          slideCountMd = 1,\n          slideCountSm = 1,\n          slideCountXs = 1,\n          arrows = false,\n          dots = false,\n          centerMode = false,\n          autoplay = false,\n          nextArrow = '<button type=\"button\" class=\"button button_style-1 slider__next\"><svg class=\"icon\" viewBox=\"0 0 12 20\"><path d=\"M2.18 19.05L.77 17.64 8.4 10 .77 2.36 2.18.95 11.23 10l-9.05 9.05z\"></path></svg></button>',\n          prevArrow = '<button type=\"button\" class=\"button button_style-1 slider__prev\"><svg class=\"icon\" viewBox=\"0 0 12 20\"><path d=\"M2.18 19.05L.77 17.64 8.4 10 .77 2.36 2.18.95 11.23 10l-9.05 9.05z\"></path></svg></button>';\n\n\n      if($(this).is('.popular-projects__slider')) {\n        arrows = true;\n        slideCount = 2;\n        slideCountLg = 2;\n        slideCountMd = 2;\n        slideCountSm = 2;\n        slideCountXs = 1;\n        if($(this).is('.popular-projects__slider_mobile-only')) {\n          let initialized=false;\n          let check =()=> {\n            if($(window).width()<brakepoints.md && !initialized) {\n              initialized=true;\n              initSlider($(this));\n            } else if($(window).width()>=brakepoints.md && initialized) {\n              initialized=false;\n              setTimeout(()=>{\n                $(this).slick('unslick');\n              },500)\n            }\n          }\n          check();\n          $(window).on('resize', function() {\n            check();\n          })\n        } \n        else {\n          initSlider($(this));\n        }\n      } \n      \n      else if($(this).is('.home-banner')) {\n        arrows = true;\n        dots = true;\n        autoplay = true;\n        nextArrow = '<button class=\"home-banner__arrow home-banner__next\" aria-label=\"Next\" type=\"button\"><svg viewBox=\"0 0 15 26\"><path d=\"M1.99869 0.292969L0.584473 1.70718L11.8774 13.0001L0.584472 24.293L1.99869 25.7072L14.7058 13.0001L1.99869 0.292969Z\"/></svg></button>';\n        prevArrow = '<button class=\"home-banner__arrow home-banner__prev\" aria-label=\"Previous\" type=\"button\"><svg viewBox=\"0 0 15 26\"><path d=\"M13.286 0.292969L14.7002 1.70718L3.4073 13.0001L14.7002 24.293L13.286 25.7072L0.578877 13.0001L13.286 0.292969Z\"/></svg></button>';\n        initSlider($(this));\n      } \n      \n      else if($(this).is('.news-preview-section__slider')) {\n        arrows = true;\n        slideCount = 3;\n        slideCountLg = 3;\n        slideCountMd = 2;\n        slideCountSm = 2;\n        slideCountXs = 1;\n        initSlider($(this));\n      } \n      \n      else if($(this).is('.section-partners__slider')) {\n        arrows = true;\n        autoplay = true;\n        slideCount = 6;\n        slideCountLg = 5;\n        slideCountMd = 4;\n        slideCountSm = 3;\n        slideCountXs = 1;\n        initSlider($(this));\n      }\n\n\n      function initSlider($target) {\n        $target.slick({\n          rows: 0,\n          infinite: true,\n          dots: dots,\n          arrows: arrows,\n          nextArrow: nextArrow,\n          prevArrow: prevArrow,\n          speed: 500,\n          centerMode: centerMode,\n          slidesToShow: slideCount,\n          slidesToScroll: slideCount,\n          autoplay: autoplay,\n          autoplaySpeed: 5000,\n          responsive: [{\n              breakpoint: brakepoints.lg,\n              settings: {\n                slidesToShow: slideCountLg,\n                slidesToScroll: slideCountLg\n              }\n            },\n            {\n              breakpoint: brakepoints.md,\n              settings: {\n                slidesToShow: slideCountMd,\n                slidesToScroll: slideCountMd\n              }\n            },\n            {\n              breakpoint: brakepoints.sm,\n              settings: {\n                slidesToShow: slideCountSm,\n                slidesToScroll: slideCountSm\n              }\n            },\n            {\n              breakpoint: brakepoints.xs,\n              settings: {\n                slidesToShow: slideCountXs,\n                slidesToScroll: slideCountXs\n              }\n            }\n          ]\n        });\n      }\n    \n    });\n\n  }\n}\n//select\nlet select = {\n  init: function() {\n    this.items = $('select');\n    if(this.items.length) {\n      this.items.selectric({\n        disableOnMobile: false,\n        nativeOnMobile: false,\n        arrowButtonMarkup: '<svg class=\"icon\" viewBox=\"0 0 12 7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.72606 -1.19209e-07L11.1403 1.41421L5.57036 6.98453L4.15614 5.57031L9.72606 -1.19209e-07Z\"/><path d=\"M0 1.41421L1.41421 1.19209e-07L6.98434 5.57047L5.57036 6.98453L0 1.41421Z\"/></svg>'\n      });\n    }\n  }\n}\n\nfunction header() {\n  let $header = $('.header'), \n      height,\n      scroll;\n\n  check();\n  $(window).scroll(function() {\n    check();\n  });\n\n  function check() {\n    if($(window).width()<brakepoints.md) {\n      scroll = $(window).scrollTop();\n      height = 130;\n\n      if(scroll>height){\n        $header.addClass('fixed');\n      } else {\n        $header.removeClass('fixed');\n      }\n    }\n\n  }\n  \n}\n\nfunction nav() {\n  let $toggle = $('.nav-toggle'),\n      $nav = $('.mobile-nav'),\n      state;\n  $toggle.on('click', function(event){\n    event.preventDefault();\n    if(!state) {\n      open();\n    } else {\n      close();\n    }\n  })\n\n  function open() {\n    state = true;\n    scrollLock.disablePageScroll();\n    $nav.add($toggle).addClass('active');\n  }\n  function close() {\n    state = false;\n    scrollLock.enablePageScroll();\n    $nav.add($toggle).removeClass('active');\n  }\n}\n\nfunction toggle() {\n  let $section = $('.toggle-section'),\n      speed = 250;\n\n  $section.each(function() {\n    let $this = $(this),\n        $toggle = $this.children('.toggle-section__head'),\n        $content = $this.children('.toggle-section__content'),\n        state = $this.hasClass('active') ? true : false,\n        initialized,\n        timeout,\n        height = $content.height();\n\n  \n\n    if($this.is('[data-out-hide]')) {\n      $(document).on('click touchstart', function(event) {\n        let $target = $(event.target);\n        if(!$target.closest($content).length && !$target.closest($toggle).length && state) {\n          state=false;\n          check();\n        }\n      })\n    }\n\n    $toggle.on('click', function() {\n      state = !state ? true : false;\n      check();\n    })\n\n    function check() {\n      if(state) {\n        $this.add($content).add($toggle).addClass('active');\n        if(!$this.is('[data-class-only]')) {\n          $content.height(height);\n          $content.stop().slideDown(speed);\n        }\n      } \n      else {\n        $this.add($toggle).add($content).removeClass('active');\n        if(!$this.is('[data-class-only]')) {\n          if(initialized) {\n            $content.stop().slideUp(speed);\n          } else {\n            $content.hide(0);\n          }\n        }\n      }\n    }\n\n    check();\n\n    initialized=true;\n  })\n\n  /* function check() {\n    $section.each(function(){\n      if($(this).hasClass('active')) {\n        $(this).find('.toggle-section__content').addClass('active');\n      } else {\n        $(this).find('.toggle-section__content').removeClass('active');\n      }\n    })\n  }\n  check(); */\n}\n"]}