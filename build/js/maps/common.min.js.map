{"version":3,"sources":["common.js"],"names":["lazySizes","cfg","init","customScroll","ready","document","hoverTouchEvents","inputs","search","nav","toggle","popup","slider","setTimeout","lazy","xs","brakepoints","sm","md","lg","touchTimer","$","on","event","$target","desktop","type","removeClass","addClass","addEventListener","e","bg","el","target","tagName","getAttribute","parentNode","$trigger","backgroundImage","concat","preventDefault","check","$form","$input","each","this","val","namspaces","phone","parent","message","value","format","presence","allowEmpty","conditions","email","name","length","minimum","tooShort","tooLong","maximum","mask","Inputmask","clearIncomplete","validateForm","$inputs","constraints","find","values","resault","undefined","is","key","hasClass","validate","remove","flag","append","_loop","_this3","console","open","trigger","$parent","$content","focus","mouseenter","$this","log","closest","device","querySelectorAll","$containers","simpleBar","SimpleBar","scroll","scrollHeight","outerHeight","offset","top","getScrollElement","gradientCheck","attr","forEach","classList","add","window","$popup","$close","close","_this","active","scrollLock","disablePageScroll","callback","_this2","enablePageScroll","slideCountLg","slideCountMd","slideCountSm","slideCountXs","arrows","dots","centerMode","adaptiveHeight","prevArrow","nextArrow","slideCount","autoplay","infinite","speed","slidesToShow","slidesToScroll","autoplaySpeed","responsive","breakpoint","settings","header","$header","width","scrollTop","$toggle","state","height","$nav","toggleClass","$section","show","hide"],"mappings":"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","file":"../common.min.js","sourcesContent":["lazySizes.cfg.init = false;\ncustomScroll();\n\n$(document).ready(function(){\n  hoverTouchEvents();\n  inputs();\n  search();\n  nav();\n  toggle();\n  popup.init();\n  slider.init();\n  header();\n  //обработать изображения после инициализации слайдеров\n  setTimeout(()=>{\n    lazy();\n  },500)\n})\n\n\nconst brakepoints = {\n  xs: 576,\n  sm: 768,\n  md: 992,\n  lg: 1280\n}\n\n\n//hover/touch custom events\nfunction hoverTouchEvents() {\n  $(document).on('mouseenter mouseleave touchstart touchend mousedown mouseup contextmenu', 'a[class],button,label,input,textarea,tr,.js-touch-hover', function(event) {\n    let $target = $(this),  \n    touchTimer;\n    //mobile events\n    if(!device.desktop()) {\n      if(event.type=='touchstart') {\n        if(touchTimer) clearTimeout(touchTimer);\n        $target.addClass('touch');\n      } \n      else if(event.type=='touchend') {\n        touchTimer = setTimeout(function(){\n          $target.removeClass('touch');\n        }, 150)\n      }\n    } \n    //desktop events\n    else {\n      \n      if(event.type=='mouseenter') {\n        $target.addClass('hover');\n      } \n      else if(event.type=='mousedown') {\n        $target.addClass('mousedown');\n      } \n      else if(event.type=='mouseup') {\n        $target.removeClass('mousedown');\n      } \n      else {\n        $target.removeClass('hover');\n        $target.removeClass('mousedown');\n      }\n\n    }  \n  })\n}\n//lazyload\nfunction lazy() {\n  //add lazy backgrounds\n  document.addEventListener('lazybeforeunveil', function(e){\n    let el = e.target.tagName,\n        bg = e.target.getAttribute('data-src'),\n        parent = e.target.parentNode;\n\n    if(el!=='IMG') {\n      let bg = e.target.getAttribute('data-src');\n      e.target.style.backgroundImage = `url('${bg}')`;\n    }\n  });\n  lazySizes.init();\n}\n\nwindow.popup = {\n  init: function() {\n    this.$trigger = $('[data-popup-open]');\n    this.$close = $('[data-popup-close]')\n\n    this.$trigger.on('click', function(event) {\n      event.preventDefault();\n      let $popup = $($(this).attr('href'));\n      if($popup.length) {\n        popup.open($popup);\n      }\n    })\n\n    $(document).on('click', function(event) {\n      let $target = $(event.target);\n      if(\n        ($target.closest(popup.$close).length) ||\n        ($target.closest('.popup').length && $target.closest('.popup-block__container').length==0)\n      ) \n      {\n        event.preventDefault();\n        let $popup = $target.closest('.popup').length ? $target.closest('.popup') : $('.city-question-popup');\n        popup.close($popup);\n      }\n    })\n\n  }, \n  open: function($popup) {\n    let event = () => {\n      this.active = $popup;\n      scrollLock.disablePageScroll();\n      $popup.addClass('active');\n    }\n\n    if(this.active) {\n      popup.close(this.active, function() {\n        event();\n      });\n    } else {\n      event();\n    }\n\n  }, \n  close: function($popup, callback) {\n    scrollLock.enablePageScroll();\n    $popup.removeClass('active');\n    setTimeout(()=>{\n      this.active = undefined;\n      typeof callback === 'function' && callback();\n    }, 250)\n  }\n}\n\nfunction inputs() {\n  let $form = $('.js-validation'),\n      $input = $('input, textarea');\n\n\n  $input.on('focus', function() {\n    $(this).addClass('focused');\n  })\n  $input.on('blur', function() {\n    $(this).removeClass('focused');\n  })\n  $input.on('input change', function() {\n    check();\n  })\n  function check() {\n    $input.each(function() {\n      let value = $(this).val();\n      if(value=='') {\n        $(this).removeClass('filled');\n        $(this).parent().removeClass('filled');\n      } else {\n        $(this).addClass('filled');\n        $(this).parent().addClass('filled');\n      }\n    })\n  }\n  check();\n      \n  let namspaces = {\n    phone: '[name=\"phone\"]',\n    email: '[name=\"email\"]',\n    name: '[name=\"name\"]',\n    message: '[name=\"message\"]'\n  },\n  conditions = {\n    phone: {\n      format: {\n        pattern: /^\\+7 \\d{3}\\ \\d{3}\\-\\d{4}$|()/,\n        message: '^Некорректный номер телефона'\n      },\n      presence: {\n        allowEmpty: false,\n        message: '^Введите номер телефона'\n      }\n    },\n    email: {\n      email: {\n        message: '^Неправильный формат. Попробуйте что-то с @'\n      }\n    },\n    name: {\n      presence: {\n        allowEmpty: false,\n        message: '^Введите ваше имя'\n      },\n      length: {\n        minimum: 2,\n        tooShort: \"^Имя слишком короткое (минимум %{count} символа)\",\n        maximum: 20,\n        tooLong: \"^Имя слишком длинное (максимум %{count} символов)\"\n      }\n    },\n    message: {\n      length: {\n        maximum: 200,\n        tooLong: \"^Сообщение слишком длинное (максимум %{count} символов)\"\n      }\n    }\n  },\n  mask = Inputmask({\n    mask: \"+7 999 999-9999\",\n    showMaskOnHover: false,\n    clearIncomplete: false\n  }).mask(namspaces.phone);\n\n  //validation events\n  $form.each(function() {\n    let $form = $(this),\n        $inputs = $form.find('input, textarea');\n\n    $inputs.on('input', function() {\n      setTimeout(()=>{\n        validateForm($(this));\n      }, 100)\n    })\n\n    function validateForm($input) {\n      let values = {};\n      let constraints = {};\n\n      $inputs.each(function() {\n        let $input = $(this);\n        for(let key in namspaces) {\n          if($input.is(namspaces[key]) && ($(this).hasClass('required') || $(this).hasClass('filled'))) {\n            values[key] = $input.val();\n            constraints[key] = conditions[key];\n          }\n        }\n      })\n\n      let resault = validate(values, constraints);\n\n      if(resault!==undefined) {\n        if($input!==undefined) {\n          let flag=true;\n          for(let key in resault) {\n            if($input.is(namspaces[key]) && ($input.hasClass('required') || $input.hasClass('filled'))) {\n              flag=false;\n            }\n          }\n          if(flag) {\n            $input.removeClass('error');\n          }\n        } else {\n          $inputs.removeClass('error');\n          $inputs.parent().find('.input__message').remove();\n          for(let key in resault) {\n            $inputs.each(function() {\n              let $input = $(this);\n              if($input.is(namspaces[key]) && ($input.hasClass('required') || $input.hasClass('filled'))) {\n                $input.addClass('error');\n                $input.parent().append(`<span class=\"input__message\">${resault[key][0]}</span>`);\n              }\n            })\n          }\n        }\n        return false;\n      } else {\n        $inputs.removeClass('error');\n        $inputs.parent().find('.input__message').remove();\n        return true;\n      }\n    }\n\n    $form.on('submit', function(event) {\n      event.preventDefault();\n      if(validateForm()) {\n        console.log('submit!');\n        $inputs.val('').trigger('change');\n        popup.open($('#succes'));\n      }\n    })\n\n  })\n}\n\nfunction search() {\n  let $parent = $('.search');\n\n  $parent.each(function() {\n    let $this = $(this),\n        $input = $this.find('.search__input'),\n        $content = $this.find('.search__content'),\n        focus = false,\n        mouseenter = false;\n\n    $content.on('mouseenter mouseleave', function(event) {\n      if(device.desktop()) {\n        if(event.type=='mouseenter') {\n          mouseenter=true;\n        } else {\n          mouseenter=false;\n          if(!focus) {\n            $this.removeClass('active-content');\n          }\n        }\n      }\n    })\n    $input.on('blur focus input', function(event) {\n      console.log('++')\n      if(event.type=='blur') {\n        focus = false;\n        if(!mouseenter && device.desktop()) {\n          $this.removeClass('active-content');\n        }\n      } else if(event.type=='focus') {\n        focus = true;\n      } else {\n        let val = $(this).val();\n        if(val!=='') {\n          $this.addClass('active').addClass('active-content');\n        } else {\n          $this.removeClass('active').removeClass('active-content');\n        }\n      }\n    })\n\n    $(document).on('touchstart', function(event) {\n      let $target = $(event.target);\n      if($target.closest($this).length==0) {\n        $this.removeClass('active-content');\n      }\n    }) \n    \n  })\n\n}\n\nfunction customScroll() {\n  let $containers = document.querySelectorAll('.scrollbar');\n  if(device.desktop()) {\n    $containers.forEach(($target)=>{\n      let $parent = $($target),\n          $content = $parent.find('.scrollbar__content'),\n          simpleBar = new SimpleBar($target);\n      \n      simpleBar.getScrollElement().addEventListener('scroll', function() {\n        gradientCheck();\n      });\n      gradientCheck();\n    \n      function gradientCheck() {\n        let scrollHeight = $content.outerHeight() - $parent.outerHeight(),\n            scroll = $parent.offset().top - $content.offset().top;\n\n        if(scroll > 0) {\n          $parent.removeClass('scrollbar_start')\n        } else {\n          $parent.addClass('scrollbar_start')\n        }\n        if(scroll < scrollHeight) {\n          $parent.removeClass('scrollbar_end')\n        } else {\n          $parent.addClass('scrollbar_end')\n        }\n      }\n\n    })\n    setTimeout(function() {\n      $('.simplebar-wrapper, .simplebar-height-auto-observer-wrapper, .simplebar-mask, .simplebar-offset, .simplebar-content-wrapper, .simplebar-content').attr('data-scroll-lock-scrollable', '')\n    }, 500)\n  } else {\n    $containers.forEach(($this)=>{\n      $this.classList.add('scrollbar_mobile');\n    })\n  }\n}\n\nlet slider = {\n  el: $('.slider'),\n  init: function() {\n    slider.el.each(function () {\n      let slideCount = 1,\n          slideCountLg = 1,\n          slideCountMd = 1,\n          slideCountSm = 1,\n          slideCountXs = 1,\n          arrows = false,\n          dots = false,\n          centerMode = false,\n          adaptiveHeight = false,\n          autoplay = false,\n          nextArrow = '<button type=\"button\" class=\"button button_style-1 slider__next\"><svg class=\"icon\" viewBox=\"0 0 12 20\"><path d=\"M2.18 19.05L.77 17.64 8.4 10 .77 2.36 2.18.95 11.23 10l-9.05 9.05z\"></path></svg></button>',\n          prevArrow = '<button type=\"button\" class=\"button button_style-1 slider__prev\"><svg class=\"icon\" viewBox=\"0 0 12 20\"><path d=\"M2.18 19.05L.77 17.64 8.4 10 .77 2.36 2.18.95 11.23 10l-9.05 9.05z\"></path></svg></button>';\n\n      if($(this).is('.popular-projects-section__slider')) {\n        arrows = true;\n        slideCount = 2;\n        slideCountLg = 2;\n        slideCountMd = 2;\n        slideCountSm = 2;\n        slideCountXs = 1;\n      } else if($(this).is('.home-banner')) {\n        arrows = true;\n        dots = true;\n        autoplay = true;\n        nextArrow = '<button class=\"home-banner__arrow home-banner__next\" aria-label=\"Next\" type=\"button\"><svg viewBox=\"0 0 15 26\"><path d=\"M1.99869 0.292969L0.584473 1.70718L11.8774 13.0001L0.584472 24.293L1.99869 25.7072L14.7058 13.0001L1.99869 0.292969Z\"/></svg></button>';\n        prevArrow = '<button class=\"home-banner__arrow home-banner__prev\" aria-label=\"Previous\" type=\"button\"><svg viewBox=\"0 0 15 26\"><path d=\"M13.286 0.292969L14.7002 1.70718L3.4073 13.0001L14.7002 24.293L13.286 25.7072L0.578877 13.0001L13.286 0.292969Z\"/></svg></button>';\n      } else if($(this).is('.news-preview-section__slider')) {\n        arrows = true;\n        slideCount = 3;\n        slideCountLg = 3;\n        slideCountMd = 2;\n        slideCountSm = 2;\n        slideCountXs = 1;\n      } else if($(this).is('.section-partners__slider')) {\n        arrows = true;\n        autoplay = true;\n        slideCount = 6;\n        slideCountLg = 5;\n        slideCountMd = 4;\n        slideCountSm = 3;\n        slideCountXs = 1;\n      }\n\n      $(this).slick({\n        rows: 0,\n        infinite: true,\n        dots: dots,\n        arrows: arrows,\n        nextArrow: nextArrow,\n        prevArrow: prevArrow,\n        speed: 500,\n        centerMode: centerMode,\n        slidesToShow: slideCount,\n        slidesToScroll: slideCount,\n        autoplay: autoplay,\n        autoplaySpeed: 5000,\n        responsive: [{\n            breakpoint: brakepoints.lg,\n            settings: {\n              slidesToShow: slideCountLg,\n              slidesToScroll: slideCountLg\n            }\n          },\n          {\n            breakpoint: brakepoints.md,\n            settings: {\n              slidesToShow: slideCountMd,\n              slidesToScroll: slideCountMd\n            }\n          },\n          {\n            breakpoint: brakepoints.sm,\n            settings: {\n              slidesToShow: slideCountSm,\n              slidesToScroll: slideCountSm\n            }\n          },\n          {\n            breakpoint: brakepoints.xs,\n            settings: {\n              slidesToShow: slideCountXs,\n              slidesToScroll: slideCountXs\n            }\n          }\n        ]\n      });\n    \n    });\n\n  }\n}\n\nfunction header() {\n  let $header = $('.header'), \n      height,\n      scroll;\n\n  check();\n  $(window).scroll(function() {\n    check();\n  });\n\n  function check() {\n    if($(window).width()<brakepoints.md) {\n      scroll = $(window).scrollTop();\n      height = 130;\n\n      if(scroll>height){\n        $header.addClass('fixed');\n      } else {\n        $header.removeClass('fixed');\n      }\n    }\n\n  }\n  \n}\n\nfunction nav() {\n  let $toggle = $('.nav-toggle'),\n      $nav = $('.mobile-nav'),\n      state;\n  $toggle.on('click', function(event){\n    event.preventDefault();\n    if(!state) {\n      open();\n    } else {\n      close();\n    }\n  })\n\n  function open() {\n    state = true;\n    scrollLock.disablePageScroll();\n    $nav.add($toggle).addClass('active');\n  }\n  function close() {\n    state = false;\n    scrollLock.enablePageScroll();\n    $nav.add($toggle).removeClass('active');\n  }\n}\n\nfunction toggle() {\n  let $section = $('.toggle-section'),\n      $toggle = $('.toggle-section__head');\n  \n  $toggle.on('click', function() {\n    $(this).toggleClass('active');\n    $(this).closest($section).toggleClass('active');\n    check();\n  })   \n\n  function check() {\n    $section.each(function(){\n      if($(this).hasClass('active')) {\n        $(this).find('.toggle-section__content').show();\n      } else {\n        $(this).find('.toggle-section__content').hide();\n      }\n    })\n  }\n  check();\n}\n"]}